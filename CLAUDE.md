# Dotfiles

macOS-oriented dotfiles managed with a bare git repo at `~/.dotfiles`.

## How it works

The bare repo at `~/.dotfiles` uses `$HOME` as its work tree. The `dot` alias wraps git:

```bash
alias dot='/usr/bin/git --git-dir=$HOME/.dotfiles --work-tree=$HOME'
```

`status.showUntrackedFiles = no` is set in the repo config, so `dot status` only shows changes to tracked files. No exclude hacks needed.

## Tracked files

- `.zshrc` - zsh config, sources oh-my-zsh, defines `dot` alias
- `.zprofile` - zsh profile
- `.p10k.zsh` - powerlevel10k prompt configuration (generated by `p10k configure`)
- `.gitconfig` - git aliases and settings
- `.gitmodules` - submodule definitions
- `.tmux.conf` - tmux configuration
- `.config/ghostty/config` - Ghostty terminal config
- `.config/nvim/init.lua` - neovim config (lazy.nvim based)
- `.config/nvim/lazy-lock.json` - neovim plugin lockfile
- `.config/zellij/config.kdl` - zellij terminal multiplexer config
- `.claude/settings.json` - Claude Code settings
- `.claude/scripts/context-bar.sh` - Claude Code status line script

## Submodules

- `.tmux/plugins/tpm` - tmux plugin manager
- `.tmux/plugins/tmux-resurrect` - tmux session save/restore
- `.tmux/plugins/tmux-continuum` - automatic tmux session saving
- `.oh-my-zsh/custom/themes/powerlevel10k` - zsh prompt theme

## Key conventions

- **Adding files**: `dot add <path>` (no `-f` needed)
- **Adding submodules**: `dot submodule add <url> <path>`
- **Committing**: `dot commit -m "message"`
- **Pushing**: `dot push`
- **Shell**: zsh with oh-my-zsh, powerlevel10k theme
- **Editor**: neovim (aliased as `vi`, `vim`)
- **Branches**: `master` is the active branch, `main` exists as the remote default

## Setup on a new machine

```bash
git clone --bare git@github.com:mikekelly/dotfiles.git ~/.dotfiles
alias dot='/usr/bin/git --git-dir=$HOME/.dotfiles --work-tree=$HOME'
dot checkout
dot config status.showUntrackedFiles no
dot submodule update --init --depth=1
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```
